<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>kernel-release by OpenMandrivaAssociation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">kernel-release</h1>
      <h2 class="project-tagline">Heart of OpenMandriva Linux operating system</h2>
      <a href="https://github.com/OpenMandrivaAssociation/kernel-release" class="btn">View on GitHub</a>
      <a href="https://github.com/OpenMandrivaAssociation/kernel-release/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/OpenMandrivaAssociation/kernel-release/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="hello-openmandriva-linux-users" class="anchor" href="#hello-openmandriva-linux-users" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hello OpenMandriva Linux Users!</h3>

<p>linux-userspace-headers contains the headers for the source code of
Linux kernel. All source code necessary to compile a new kernel is
included in two packages linux-userspace-headers, and kernel-source.
You will need to install both linux-userspace-headers (needed for
general Linux compilation), and kernel-source in order to compile
a new kernel.</p>

<p>The kernel is the central process of your Linux machine, the mediator
between the hardware and your programs. It is responsible for memory
allocations, process managing, device access...</p>

<p>Although modern kernels are very flexible thanks to dynamic modules, you
may need to compile your own kernel for various reasons: your found a
new module which need a more recent kernel, you need a feature of a new
kernel, etc...</p>

<p>Here is a short sum-up of what you can find in the Kernel-HOWTO. Consult
it in case of a problem or if the shortcut here provided does not meet
your needs. You should also consult the README of kernel-sources.</p>

<h3>
<a id="configure-your-new-kernel" class="anchor" href="#configure-your-new-kernel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure your new kernel</h3>

<p>You should never build a kernel as root, so as a normal user:
Copy the source in /usr/src/linux/ to ~/kernel/
Change to ~/kernel/ and clean-up previous compilations, by issuing 
"make mrproper",
In console mode, run "make menuconfig",
Under X11, run "make xconfig".</p>

<p>Then configure all sections of your kernel making each feature you need
available constantly or as a module. Note that you should compile most
features as a module, as it consume less memory, taking into account
that some of them cannot be modules as you may need them at boot time,
before dynamic modules be loaded...</p>

<h3>
<a id="compile-it" class="anchor" href="#compile-it" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compile it</h3>

<p>Just issue "make" to create a compressed kernel image and the modules you 
configured.</p>

<h3>
<a id="install-your-new-kernel" class="anchor" href="#install-your-new-kernel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>install your new kernel</h3>

<p>Now you need root privilegies, so:
Issue "su" and enter root password.
Issue "make modules_install"</p>

<p>This will copy your modules and needed files to /lib/modules/</p>

<p>Issue "make install"</p>

<p>This will copy your new kernel and system.map to boot dir (/boot/) with
correct names including version, and change respective links.</p>

<p>It finally runs lilo to take into account your new kernel.</p>

<h3>
<a id="modify-lilo-to-allow-your-booting-on-old-kernel" class="anchor" href="#modify-lilo-to-allow-your-booting-on-old-kernel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify Lilo to allow your booting on old kernel</h3>

<ul>
<li>This step is optional, although recommended *
See lilo.conf man page.
Your are encouraged during this step to create a new section in your
lilo.conf file, in order to enable you to boot on your both kernels, the
old and the new one.
You need to run lilo then to take your changes into account.
You may also use linuxconf to do all that with a nice GUI.</li>
</ul>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with kernel-release? <a href="https://issues.openmandriva.org/">report bug</a> or [<a href="https://github.com/OpenMandrivaAssociation/kernel-release/issues">https://github.com/OpenMandrivaAssociation/kernel-release/issues</a>].</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/OpenMandrivaAssociation/kernel-release">kernel-release</a> is maintained by <a href="https://github.com/OpenMandrivaAssociation">OpenMandrivaAssociation</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
